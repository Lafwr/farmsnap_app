<div id="farmer-index-container">
  <div class="container py-5">
    <h1 class="text-center text-success mb-4">Farmers</h1>

    <div class="farmer-index-container">
      <% @farmers.each do |farmer| %>
        <div class="farmers-list card shadow-sm p-3">
          <% if farmer.photo.attached? %>
            <div class="farmer-photo">
              <%= cl_image_tag farmer.photo.key, class: "img-fluid farmer-img" %>
            </div>
          <% end %>

          <div class="farmer-details">
            <% if farmer.name.present? %>
              <h4 class="mb-1"><%= farmer.name %></h4>
            <% else %>
              <h4 class="mb-1"><%= farmer.user.first_name %> <%= farmer.user.last_name %></h4>
            <% end %>

            <p class="text-muted mb-2"><strong>Location:</strong> <%= farmer.location %></p>

            <%= link_to farmer_path(farmer), class: "btn btn-outline-success btn-sm view-profile-btn" do %>
              <i class="fas fa-user-circle me-1"></i> View
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
